<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <title>ğŸ§  Bio-ML Agent â€” Task Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CSS Reset & Variables
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --bg-primary: #0a0a14;
            --bg-secondary: #12121f;
            --bg-card: rgba(20, 20, 38, 0.7);
            --bg-card-hover: rgba(30, 30, 55, 0.8);
            --bg-sidebar: rgba(14, 14, 26, 0.95);
            --bg-modal: rgba(16, 16, 30, 0.98);

            --border: rgba(255, 255, 255, 0.06);
            --border-hover: rgba(255, 255, 255, 0.12);

            --text-primary: #e8e8f0;
            --text-secondary: #8888a8;
            --text-muted: #55556a;

            --accent-blue: #4f8cff;
            --accent-purple: #9b6dff;
            --accent-green: #34d399;
            --accent-yellow: #fbbf24;
            --accent-red: #f87171;
            --accent-pink: #f472b6;
            --accent-cyan: #22d3ee;

            --gradient-primary: linear-gradient(135deg, #4f8cff, #9b6dff);
            --gradient-green: linear-gradient(135deg, #34d399, #22d3ee);
            --gradient-amber: linear-gradient(135deg, #fbbf24, #f97316);
            --gradient-red: linear-gradient(135deg, #f87171, #f472b6);

            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 20px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 8px 40px rgba(0, 0, 0, 0.5);
            --shadow-glow-blue: 0 0 30px rgba(79, 140, 255, 0.15);
            --shadow-glow-green: 0 0 30px rgba(52, 211, 153, 0.15);
            --shadow-glow-purple: 0 0 30px rgba(155, 109, 255, 0.15);

            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 20px;

            --transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Background ambient glow */
        body::before {
            content: '';
            position: fixed;
            top: -200px;
            left: -200px;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(79, 140, 255, 0.06) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        body::after {
            content: '';
            position: fixed;
            bottom: -200px;
            right: -200px;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(155, 109, 255, 0.06) 0%, transparent 70%);
            pointer-events: none;
            z-index: 0;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Layout
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .app-layout {
            display: flex;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        /* â”€â”€â”€ Sidebar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .sidebar {
            width: 260px;
            background: var(--bg-sidebar);
            backdrop-filter: blur(20px);
            border-right: 1px solid var(--border);
            padding: 24px 16px;
            display: flex;
            flex-direction: column;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            z-index: 10;
            transition: transform var(--transition);
        }

        .sidebar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 8px 12px;
            margin-bottom: 32px;
        }

        .sidebar-brand-icon {
            width: 42px;
            height: 42px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: var(--shadow-glow-blue);
        }

        .sidebar-brand h1 {
            font-size: 16px;
            font-weight: 700;
            letter-spacing: -0.3px;
        }

        .sidebar-brand span {
            font-size: 11px;
            color: var(--text-muted);
            font-weight: 400;
        }

        .sidebar-nav {
            flex: 1;
        }

        .sidebar-nav-label {
            font-size: 10px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: var(--text-muted);
            padding: 8px 12px;
            margin-top: 16px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            color: var(--text-secondary);
            font-size: 14px;
            font-weight: 500;
            transition: all var(--transition);
            position: relative;
            user-select: none;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.04);
            color: var(--text-primary);
        }

        .nav-item.active {
            background: rgba(79, 140, 255, 0.1);
            color: var(--accent-blue);
        }

        .nav-item.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 3px;
            height: 20px;
            background: var(--gradient-primary);
            border-radius: 0 4px 4px 0;
        }

        .nav-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .nav-badge {
            margin-left: auto;
            background: rgba(79, 140, 255, 0.15);
            color: var(--accent-blue);
            font-size: 11px;
            font-weight: 600;
            padding: 2px 8px;
            border-radius: 10px;
        }

        .sidebar-footer {
            padding: 16px 12px;
            border-top: 1px solid var(--border);
            font-size: 11px;
            color: var(--text-muted);
            text-align: center;
        }

        /* â”€â”€â”€ Main Content â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .main-content {
            margin-left: 260px;
            flex: 1;
            padding: 32px;
            min-height: 100vh;
        }

        /* â”€â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 28px;
        }

        .page-header h2 {
            font-size: 26px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }

        .page-header-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Stats Cards
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 28px;
        }

        .stat-card {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 20px 22px;
            transition: all var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            opacity: 0;
            transition: opacity var(--transition);
        }

        .stat-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-card:nth-child(1)::before {
            background: var(--gradient-primary);
        }

        .stat-card:nth-child(2)::before {
            background: var(--gradient-green);
        }

        .stat-card:nth-child(3)::before {
            background: var(--gradient-amber);
        }

        .stat-card:nth-child(4)::before {
            background: var(--gradient-red);
        }

        .stat-card:nth-child(5)::before {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-blue));
        }

        .stat-card:nth-child(1):hover {
            box-shadow: var(--shadow-glow-blue);
        }

        .stat-card:nth-child(2):hover {
            box-shadow: var(--shadow-glow-green);
        }

        .stat-card:nth-child(3):hover {
            box-shadow: 0 0 30px rgba(251, 191, 36, 0.12);
        }

        .stat-label {
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            letter-spacing: -1px;
            line-height: 1;
        }

        .stat-sub {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 6px;
        }

        .stat-value.blue {
            color: var(--accent-blue);
        }

        .stat-value.green {
            color: var(--accent-green);
        }

        .stat-value.yellow {
            color: var(--accent-yellow);
        }

        .stat-value.red {
            color: var(--accent-red);
        }

        .stat-value.cyan {
            color: var(--accent-cyan);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Toolbar
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .toolbar {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 10px 14px 10px 40px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            outline: none;
            transition: border-color var(--transition);
        }

        .search-box input:focus {
            border-color: var(--accent-blue);
        }

        .search-box input::placeholder {
            color: var(--text-muted);
        }

        .search-box::before {
            content: 'ğŸ”';
            position: absolute;
            left: 13px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
        }

        .filter-btn {
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
            background: transparent;
            color: var(--text-secondary);
            font-family: inherit;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition);
            white-space: nowrap;
        }

        .filter-btn:hover {
            border-color: var(--border-hover);
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.03);
        }

        .filter-btn.active {
            background: rgba(79, 140, 255, 0.12);
            border-color: rgba(79, 140, 255, 0.3);
            color: var(--accent-blue);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Task Cards
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .tasks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 16px;
        }

        .task-card {
            background: var(--bg-card);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 22px;
            transition: all var(--transition);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.4s ease forwards;
            opacity: 0;
        }

        .task-card:hover {
            border-color: var(--border-hover);
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(16px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .task-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .task-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
            flex: 1;
            margin-right: 10px;
            line-height: 1.3;
        }

        .task-description {
            font-size: 13px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .task-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 8px;
        }

        .task-tags {
            display: flex;
            gap: 6px;
            flex-wrap: wrap;
        }

        /* Status badges */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .badge-completed {
            background: rgba(52, 211, 153, 0.12);
            color: var(--accent-green);
            border: 1px solid rgba(52, 211, 153, 0.2);
        }

        .badge-in_progress {
            background: rgba(251, 191, 36, 0.12);
            color: var(--accent-yellow);
            border: 1px solid rgba(251, 191, 36, 0.2);
        }

        .badge-pending {
            background: rgba(136, 136, 168, 0.12);
            color: var(--text-secondary);
            border: 1px solid rgba(136, 136, 168, 0.2);
        }

        .badge-category {
            background: rgba(79, 140, 255, 0.1);
            color: var(--accent-blue);
            border: 1px solid rgba(79, 140, 255, 0.15);
        }

        .badge-priority-high {
            background: rgba(248, 113, 113, 0.1);
            border: 1px solid rgba(248, 113, 113, 0.2);
            color: var(--accent-red);
        }

        .badge-priority-medium {
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.2);
            color: var(--accent-yellow);
        }

        .badge-priority-low {
            background: rgba(136, 136, 168, 0.08);
            border: 1px solid rgba(136, 136, 168, 0.15);
            color: var(--text-muted);
        }

        .task-actions {
            display: flex;
            gap: 8px;
            margin-top: 14px;
            padding-top: 14px;
            border-top: 1px solid var(--border);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Buttons
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .btn {
            padding: 8px 16px;
            border-radius: var(--radius-sm);
            border: none;
            font-family: inherit;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: #fff;
            box-shadow: 0 2px 10px rgba(79, 140, 255, 0.25);
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 20px rgba(79, 140, 255, 0.35);
        }

        .btn-success {
            background: rgba(52, 211, 153, 0.15);
            color: var(--accent-green);
            border: 1px solid rgba(52, 211, 153, 0.25);
        }

        .btn-success:hover {
            background: rgba(52, 211, 153, 0.25);
        }

        .btn-danger {
            background: rgba(248, 113, 113, 0.12);
            color: var(--accent-red);
            border: 1px solid rgba(248, 113, 113, 0.2);
        }

        .btn-danger:hover {
            background: rgba(248, 113, 113, 0.22);
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }

        .btn-ghost:hover {
            background: rgba(255, 255, 255, 0.04);
            color: var(--text-primary);
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Modal
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(6px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 100;
            animation: fadeIn 0.2s ease;
        }

        .modal-overlay.open {
            display: flex;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        .modal {
            background: var(--bg-modal);
            border: 1px solid var(--border);
            border-radius: var(--radius-xl);
            padding: 28px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal h3 {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-group label {
            display: block;
            font-size: 12px;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px 14px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            outline: none;
            transition: border-color var(--transition);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            border-color: var(--accent-blue);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 80px;
        }

        .form-group select {
            cursor: pointer;
        }

        .form-group select option {
            background: var(--bg-secondary);
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 20px;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Page: Report
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .report-container {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 32px;
            line-height: 1.8;
            font-size: 14px;
            max-width: 900px;
        }

        .report-container h1 {
            font-size: 24px;
            margin: 24px 0 12px;
            color: var(--accent-blue);
        }

        .report-container h2 {
            font-size: 20px;
            margin: 20px 0 10px;
            color: var(--accent-purple);
        }

        .report-container h3 {
            font-size: 16px;
            margin: 16px 0 8px;
        }

        .report-container code {
            background: rgba(79, 140, 255, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 13px;
        }

        .report-container pre {
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            padding: 16px;
            overflow-x: auto;
            margin: 12px 0;
            font-size: 13px;
        }

        .report-container table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
        }

        .report-container th,
        .report-container td {
            padding: 8px 12px;
            border: 1px solid var(--border);
            text-align: left;
            font-size: 13px;
        }

        .report-container th {
            background: rgba(79, 140, 255, 0.08);
            font-weight: 600;
        }

        .report-container blockquote {
            border-left: 3px solid var(--accent-purple);
            padding: 8px 16px;
            margin: 12px 0;
            color: var(--text-secondary);
            font-style: italic;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Page: Modules
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .modules-table {
            width: 100%;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            overflow: hidden;
        }

        .modules-table table {
            width: 100%;
            border-collapse: collapse;
        }

        .modules-table th {
            padding: 14px 20px;
            text-align: left;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border);
            background: rgba(255, 255, 255, 0.02);
        }

        .modules-table td {
            padding: 14px 20px;
            font-size: 14px;
            border-bottom: 1px solid var(--border);
            transition: background var(--transition);
        }

        .modules-table tr:last-child td {
            border-bottom: none;
        }

        .modules-table tr:hover td {
            background: rgba(255, 255, 255, 0.02);
        }

        .modules-table .file-name {
            font-weight: 600;
            color: var(--accent-blue);
        }

        .modules-table .line-bar {
            display: inline-block;
            height: 6px;
            border-radius: 3px;
            background: var(--gradient-primary);
            min-width: 4px;
            transition: width var(--transition);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Progress Ring
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .progress-ring-container {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .progress-ring {
            width: 80px;
            height: 80px;
        }

        .progress-ring circle {
            fill: none;
            stroke-width: 6;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease;
        }

        .progress-ring .bg {
            stroke: rgba(255, 255, 255, 0.06);
        }

        .progress-ring .fg {
            stroke: url(#progressGrad);
            transform: rotate(-90deg);
            transform-origin: center;
        }

        .progress-ring-label {
            font-size: 13px;
            color: var(--text-secondary);
        }

        .progress-ring-value {
            font-size: 28px;
            font-weight: 800;
            color: var(--accent-green);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Notification Toast
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .toast {
            position: fixed;
            bottom: 24px;
            right: 24px;
            background: var(--bg-modal);
            border: 1px solid var(--accent-green);
            border-radius: var(--radius-md);
            padding: 14px 20px;
            font-size: 14px;
            font-weight: 500;
            color: var(--accent-green);
            box-shadow: var(--shadow-glow-green);
            z-index: 999;
            animation: toastIn 0.4s ease, toastOut 0.4s ease 2.6s forwards;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        @keyframes toastIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes toastOut {
            from {
                opacity: 1;
            }

            to {
                opacity: 0;
                transform: translateY(20px);
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Page: Settings
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
            gap: 20px;
        }

        .settings-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 24px;
        }

        .settings-card h3 {
            font-size: 17px;
            font-weight: 700;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setting-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-row:last-child {
            border-bottom: none;
        }

        .setting-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .setting-label small {
            display: block;
            font-size: 11px;
            color: var(--text-muted);
            margin-top: 2px;
        }

        .setting-input {
            width: 220px;
            padding: 7px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 13px;
            outline: none;
        }

        .setting-input:focus {
            border-color: var(--accent-blue);
        }

        .setting-input.short {
            width: 100px;
            text-align: center;
        }

        .api-key-status {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            font-weight: 600;
        }

        .api-key-status.set {
            color: var(--accent-green);
        }

        .api-key-status.unset {
            color: var(--text-muted);
        }

        .model-select {
            width: 280px;
            padding: 8px 12px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 13px;
            cursor: pointer;
            outline: none;
        }

        .model-select:focus {
            border-color: var(--accent-blue);
        }

        .model-select option {
            background: var(--bg-secondary);
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Page: Agent Chat
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 140px);
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            overflow: hidden;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 14px;
        }

        .chat-msg {
            max-width: 80%;
            padding: 14px 18px;
            border-radius: var(--radius-md);
            font-size: 14px;
            line-height: 1.6;
            animation: fadeInUp 0.3s ease;
        }

        .chat-msg.user {
            align-self: flex-end;
            background: rgba(79, 140, 255, 0.15);
            border: 1px solid rgba(79, 140, 255, 0.25);
            color: var(--text-primary);
        }

        .chat-msg.assistant {
            align-self: flex-start;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-primary);
        }

        .chat-msg.tool-step {
            align-self: flex-start;
            background: rgba(155, 109, 255, 0.08);
            border: 1px solid rgba(155, 109, 255, 0.2);
            font-size: 12px;
            font-family: 'Courier New', monospace;
            max-width: 90%;
        }

        .chat-msg.tool-step .tool-name {
            font-weight: 700;
            color: var(--accent-purple);
            margin-bottom: 4px;
        }

        .chat-msg.error {
            align-self: flex-start;
            background: rgba(248, 113, 113, 0.1);
            border: 1px solid rgba(248, 113, 113, 0.2);
            color: var(--accent-red);
        }

        .chat-input-bar {
            display: flex;
            gap: 10px;
            padding: 16px 20px;
            border-top: 1px solid var(--border);
            background: var(--bg-secondary);
        }

        .chat-input-bar input {
            flex: 1;
            padding: 12px 16px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 14px;
            outline: none;
        }

        .chat-input-bar input:focus {
            border-color: var(--accent-blue);
        }

        .chat-typing {
            color: var(--text-muted);
            font-size: 13px;
            padding: 8px 0;
        }

        .chat-typing .dots span {
            animation: blink 1.4s infinite;
            font-size: 18px;
        }

        .chat-typing .dots span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .chat-typing .dots span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes blink {

            0%,
            80%,
            100% {
                opacity: 0
            }

            40% {
                opacity: 1
            }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           Scrollbar
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 3px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.14);
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .main-content {
                margin-left: 0;
                padding: 16px;
            }

            .tasks-grid {
                grid-template-columns: 1fr;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .settings-grid {
                grid-template-columns: 1fr;
            }
        }

        .page-section {
            display: none;
        }

        .page-section.active {
            display: block;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--text-muted);
        }

        .empty-state-icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .empty-state p {
            font-size: 15px;
        }
    </style>
</head>

<body>
    <div class="app-layout">
        <!-- â•â•â• Sidebar â•â•â• -->
        <aside class="sidebar">
            <div class="sidebar-brand">
                <div class="sidebar-brand-icon">ğŸ§ </div>
                <div>
                    <h1>Bio-ML Agent</h1>
                    <span>Task Dashboard</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="sidebar-nav-label">Ana MenÃ¼</div>
                <div class="nav-item active" onclick="showPage('dashboard')" id="nav-dashboard">
                    <span class="nav-icon">ğŸ“Š</span> Dashboard
                </div>
                <div class="nav-item" onclick="showPage('tasks')" id="nav-tasks">
                    <span class="nav-icon">ğŸ“‹</span> GÃ¶revler
                    <span class="nav-badge" id="task-count-badge">0</span>
                </div>
                <div class="nav-item" onclick="showPage('report')" id="nav-report">
                    <span class="nav-icon">ğŸ“„</span> Rapor
                </div>
                <div class="nav-item" onclick="showPage('modules')" id="nav-modules">
                    <span class="nav-icon">ğŸ“¦</span> ModÃ¼ller
                </div>
                <div class="sidebar-nav-label">Kontrol</div>
                <div class="nav-item" onclick="showPage('settings')" id="nav-settings">
                    <span class="nav-icon">âš™ï¸</span> Ayarlar
                </div>
                <div class="nav-item" onclick="showPage('agent')" id="nav-agent">
                    <span class="nav-icon">ğŸ¤–</span> Agent
                </div>
                <div class="sidebar-nav-label">ML AraÃ§larÄ±</div>
                <div class="nav-item" onclick="showPage('datasets')" id="nav-datasets">
                    <span class="nav-icon">ğŸ“‚</span> Veri Setleri
                </div>
                <div class="nav-item" onclick="showPage('models')" id="nav-models">
                    <span class="nav-icon">ğŸ§ </span> Modeller
                </div>
                <div class="nav-item" onclick="showPage('projects')" id="nav-projects">
                    <span class="nav-icon">ğŸ—‚ï¸</span> Projeler
                </div>
                <div class="nav-item" onclick="showPage('compare')" id="nav-compare">
                    <span class="nav-icon">âš–ï¸</span> KarÅŸÄ±laÅŸtÄ±rma
                </div>
            </nav>

            <div class="sidebar-footer">
                Bio-ML Agent v2.0<br>
                <span style="color:var(--accent-green)">â—</span> Aktif
            </div>
        </aside>

        <!-- â•â•â• Main Content â•â•â• -->
        <main class="main-content">

            <!-- â•â•â• Page: Dashboard â•â•â• -->
            <section class="page-section active" id="page-dashboard">
                <div class="page-header">
                    <h2>ğŸ“Š Proje Durumu</h2>
                    <div class="page-header-actions">
                        <button class="btn btn-primary" onclick="openModal()">
                            â• Yeni GÃ¶rev
                        </button>
                    </div>
                </div>

                <div class="stats-grid" id="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Toplam GÃ¶rev</div>
                        <div class="stat-value blue" id="stat-total">â€”</div>
                        <div class="stat-sub" id="stat-modules-info">â€”</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Tamamlanan</div>
                        <div class="stat-value green" id="stat-completed">â€”</div>
                        <div class="stat-sub" id="stat-completion-pct">â€”</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Devam Eden</div>
                        <div class="stat-value yellow" id="stat-progress">â€”</div>
                        <div class="stat-sub">Aktif Ã§alÄ±ÅŸma</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Bekleyen</div>
                        <div class="stat-value red" id="stat-pending">â€”</div>
                        <div class="stat-sub">Onay bekliyor</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Kod SatÄ±rÄ±</div>
                        <div class="stat-value cyan" id="stat-lines">â€”</div>
                        <div class="stat-sub" id="stat-tests-info">â€”</div>
                    </div>
                </div>

                <!-- Progress ring + recent tasks -->
                <div style="display:flex; gap:24px; flex-wrap:wrap; margin-bottom:28px;">
                    <div
                        style="background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:24px;flex:0 0 160px;display:flex;flex-direction:column;align-items:center;gap:10px;">
                        <svg class="progress-ring" viewBox="0 0 100 100">
                            <defs>
                                <linearGradient id="progressGrad" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" style="stop-color:#34d399" />
                                    <stop offset="100%" style="stop-color:#22d3ee" />
                                </linearGradient>
                            </defs>
                            <circle class="bg" cx="50" cy="50" r="42" />
                            <circle class="fg" cx="50" cy="50" r="42" id="progress-circle" stroke-dasharray="263.9"
                                stroke-dashoffset="263.9" />
                        </svg>
                        <div class="progress-ring-value" id="progress-pct">0%</div>
                        <div class="progress-ring-label">Tamamlanma</div>
                    </div>

                    <div style="flex:1; min-width:300px;">
                        <h3 style="margin-bottom:14px;font-size:16px;font-weight:600;">
                            ğŸ”¥ Bekleyen GÃ¶revler
                        </h3>
                        <div id="pending-tasks-preview"></div>
                    </div>
                </div>
            </section>

            <!-- â•â•â• Page: Tasks â•â•â• -->
            <section class="page-section" id="page-tasks">
                <div class="page-header">
                    <h2>ğŸ“‹ GÃ¶rev Listesi</h2>
                    <div class="page-header-actions">
                        <button class="btn btn-primary" onclick="openModal()">
                            â• Yeni GÃ¶rev
                        </button>
                    </div>
                </div>

                <div class="toolbar">
                    <div class="search-box">
                        <input type="text" placeholder="GÃ¶rev ara..." id="search-input" oninput="filterTasks()">
                    </div>
                    <button class="filter-btn active" onclick="setFilter('all')" id="filter-all">TÃ¼mÃ¼</button>
                    <button class="filter-btn" onclick="setFilter('pending')" id="filter-pending">â³ Bekleyen</button>
                    <button class="filter-btn" onclick="setFilter('in_progress')" id="filter-in_progress">ğŸ”„ Devam
                        Eden</button>
                    <button class="filter-btn" onclick="setFilter('completed')" id="filter-completed">âœ…
                        Tamamlanan</button>
                </div>

                <div class="tasks-grid" id="tasks-container"></div>
            </section>

            <!-- â•â•â• Page: Report â•â•â• -->
            <section class="page-section" id="page-report">
                <div class="page-header">
                    <h2>ğŸ“„ Proje Raporu</h2>
                </div>
                <div class="report-container" id="report-content">
                    <p style="color:var(--text-muted)">Rapor yÃ¼kleniyor...</p>
                </div>
            </section>

            <!-- â•â•â• Page: Modules â•â•â• -->
            <section class="page-section" id="page-modules">
                <div class="page-header">
                    <h2>ğŸ“¦ Proje ModÃ¼lleri</h2>
                </div>
                <div class="modules-table" id="modules-container">
                    <p style="padding:20px;color:var(--text-muted);">YÃ¼kleniyor...</p>
                </div>
            </section>

            <!-- â•â•â• Page: Settings â•â•â• -->
            <section class="page-section" id="page-settings">
                <div class="page-header">
                    <h2>âš™ï¸ Ayarlar</h2>
                    <div class="page-header-actions">
                        <button class="btn btn-primary" onclick="saveSettings()">ğŸ’¾ Kaydet</button>
                    </div>
                </div>
                <div class="settings-grid">
                    <div class="settings-card">
                        <h3>ğŸ§  Model AyarlarÄ±</h3>
                        <div class="setting-row">
                            <div class="setting-label">Aktif Model<small>Ollama Ã¼zerinden Ã§alÄ±ÅŸÄ±r</small></div>
                            <select class="model-select" id="setting-model">
                                <option>YÃ¼kleniyor...</option>
                            </select>
                        </div>
                        <div class="setting-row">
                            <div class="setting-label">Maks. AdÄ±m<small>Bir konuÅŸmada LLM Ã§aÄŸrÄ± sayÄ±sÄ±</small></div>
                            <input type="number" class="setting-input short" id="setting-max-steps" value="50">
                        </div>
                        <div class="setting-row">
                            <div class="setting-label">Zaman AÅŸÄ±mÄ± (sn)<small>Komut Ã§alÄ±ÅŸtÄ±rma limiti</small></div>
                            <input type="number" class="setting-input short" id="setting-timeout" value="180">
                        </div>
                        <div class="setting-row">
                            <div class="setting-label">Dil<small>Agent Ã§Ä±ktÄ± dili</small></div>
                            <select class="model-select" id="setting-language" style="width:100px">
                                <option value="tr">ğŸ‡¹ğŸ‡· TR</option>
                                <option value="en">ğŸ‡¬ğŸ‡§ EN</option>
                            </select>
                        </div>
                    </div>
                    <div class="settings-card">
                        <h3>ğŸ”‘ API AnahtarlarÄ±</h3>
                        <div class="setting-row">
                            <div class="setting-label">OpenAI<small>GPT-4, GPT-3.5</small></div>
                            <div><span class="api-key-status" id="key-status-openai">â€”</span></div>
                        </div>
                        <div class="setting-row" style="border-bottom:none">
                            <input type="password" class="setting-input" id="key-openai" placeholder="sk-...">
                        </div>
                        <div class="setting-row">
                            <div class="setting-label">Anthropic<small>Claude modelleri</small></div>
                            <div><span class="api-key-status" id="key-status-anthropic">â€”</span></div>
                        </div>
                        <div class="setting-row" style="border-bottom:none">
                            <input type="password" class="setting-input" id="key-anthropic" placeholder="sk-ant-...">
                        </div>
                        <div class="setting-row">
                            <div class="setting-label">Google<small>Gemini modelleri</small></div>
                            <div><span class="api-key-status" id="key-status-google">â€”</span></div>
                        </div>
                        <div class="setting-row" style="border-bottom:none">
                            <input type="password" class="setting-input" id="key-google" placeholder="AI...">
                        </div>
                        <div class="setting-row">
                            <div class="setting-label">HuggingFace<small>HF modelleri</small></div>
                            <div><span class="api-key-status" id="key-status-hf">â€”</span></div>
                        </div>
                        <div class="setting-row" style="border-bottom:none">
                            <input type="password" class="setting-input" id="key-hf" placeholder="hf_...">
                        </div>
                        <div style="margin-top:12px">
                            <button class="btn btn-success btn-sm" onclick="saveApiKeys()">ğŸ”‘ AnahtarlarÄ±
                                Kaydet</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- â•â•â• Page: Agent Chat â•â•â• -->
            <section class="page-section" id="page-agent">
                <div class="page-header">
                    <h2>ğŸ¤– Agent'a GÃ¶rev Ver</h2>
                    <div class="page-header-actions">
                        <button class="btn btn-ghost btn-sm" onclick="clearChat()">ğŸ—‘ï¸ Temizle</button>
                    </div>
                </div>
                <div class="chat-container">
                    <div class="chat-messages" id="chat-messages">
                        <div class="chat-msg assistant">
                            ğŸ‘‹ Merhaba! Ben Bio-ML Agent. Bana bir gÃ¶rev verin â€” kod yazayÄ±m, analiz yapayÄ±m, dosya
                            oluÅŸturayÄ±m.<br><br>
                            <strong>Ã–rnek komutlar:</strong><br>
                            â€¢ "Breast cancer veri setini analiz et"<br>
                            â€¢ "workspace klasÃ¶rÃ¼ndeki dosyalarÄ± listele"<br>
                            â€¢ "Basit bir sÄ±nÄ±flandÄ±rma modeli oluÅŸtur"
                        </div>
                    </div>
                    <div class="chat-input-bar">
                        <input type="text" id="chat-input" placeholder="Agent'a bir gÃ¶rev yazÄ±n..."
                            onkeydown="if(event.key==='Enter')sendChat()">
                        <button class="btn btn-primary" onclick="sendChat()" id="chat-send-btn">ğŸ“© GÃ¶nder</button>
                    </div>
                </div>
            </section>

            <!-- â•â•â• Modal: Yeni GÃ¶rev â•â•â• -->
            <div class="modal-overlay" id="modal-overlay" onclick="closeModalOutside(event)">
                <div class="modal">
                    <h3>â• Yeni GÃ¶rev Ekle</h3>
                    <div class="form-group">
                        <label>BaÅŸlÄ±k</label>
                        <input type="text" id="modal-title" placeholder="GÃ¶rev baÅŸlÄ±ÄŸÄ±...">
                    </div>
                    <div class="form-group">
                        <label>AÃ§Ä±klama</label>
                        <textarea id="modal-desc" placeholder="GÃ¶rev aÃ§Ä±klamasÄ±..."></textarea>
                    </div>
                    <div style="display:flex;gap:12px;">
                        <div class="form-group" style="flex:1">
                            <label>Kategori</label>
                            <select id="modal-category">
                                <option value="core">Core</option>
                                <option value="ml">ML</option>
                                <option value="ui">UI</option>
                                <option value="testing">Testing</option>
                                <option value="bioeng">BiyomÃ¼hendislik</option>
                                <option value="devops">DevOps</option>
                                <option value="general">Genel</option>
                            </select>
                        </div>
                        <div class="form-group" style="flex:1">
                            <label>Ã–ncelik</label>
                            <select id="modal-priority">
                                <option value="high">ğŸ”´ YÃ¼ksek</option>
                                <option value="medium" selected>ğŸŸ¡ Orta</option>
                                <option value="low">ğŸŸ¢ DÃ¼ÅŸÃ¼k</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-actions">
                        <button class="btn btn-ghost" onclick="closeModal()">Ä°ptal</button>
                        <button class="btn btn-primary" onclick="createTask()">OluÅŸtur</button>
                    </div>
                </div>
            </div>

            <!-- â•â•â• Page: Datasets â•â•â• -->
            <section class="page-section" id="page-datasets">
                <div class="page-header">
                    <h2>ğŸ“‚ Veri Seti KataloÄŸu</h2>
                    <div class="page-header-actions">
                        <select id="ds-category-filter" onchange="loadDatasets()"
                            style="padding:8px 14px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-sm);color:var(--text-primary);font-family:inherit;font-size:13px;cursor:pointer">
                            <option value="">TÃ¼m Kategoriler</option>
                        </select>
                    </div>
                </div>
                <div class="tasks-grid" id="datasets-grid"></div>
            </section>

            <!-- â•â•â• Page: Models â•â•â• -->
            <section class="page-section" id="page-models">
                <div class="page-header">
                    <h2>ğŸ§  KaydedilmiÅŸ Modeller</h2>
                    <button class="btn btn-ghost" onclick="loadModels()">ğŸ”„ Yenile</button>
                </div>
                <div class="tasks-grid" id="models-grid">
                    <p style="color:var(--text-muted);padding:20px">YÃ¼kleniyor...</p>
                </div>
            </section>

            <!-- â•â•â• Page: Projects â•â•â• -->
            <section class="page-section" id="page-projects">
                <div class="page-header">
                    <h2>ğŸ—‚ï¸ ML Projeleri</h2>
                    <button class="btn btn-ghost" onclick="loadProjects()">ğŸ”„ Yenile</button>
                </div>
                <div class="tasks-grid" id="projects-grid">
                    <p style="color:var(--text-muted);padding:20px">YÃ¼kleniyor...</p>
                </div>
            </section>

            <!-- â•â•â• Page: Compare â•â•â• -->
            <section class="page-section" id="page-compare">
                <div class="page-header">
                    <h2>âš–ï¸ Model KarÅŸÄ±laÅŸtÄ±rma</h2>
                    <button class="btn btn-ghost" onclick="loadCompare()">ğŸ”„ Yenile</button>
                </div>
                <div id="compare-container">
                    <p style="color:var(--text-muted);padding:20px">YÃ¼kleniyor...</p>
                </div>
            </section>

        </main>
    </div>

    <!-- â•â•â• JavaScript â•â•â• -->
    <script>
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  State
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        let allTasks = [];
        let currentFilter = 'all';
        let currentPage = 'dashboard';

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  API Helpers
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        const api = (path, opts = {}) =>
            fetch(`/api${path}`, {
                headers: { 'Content-Type': 'application/json' },
                ...opts,
            }).then(r => r.json());

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Navigation
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function showPage(page) {
            currentPage = page;
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById(`page-${page}`).classList.add('active');
            document.getElementById(`nav-${page}`).classList.add('active');

            if (page === 'report') loadReport();
            if (page === 'modules') loadModules();
            if (page === 'settings') loadSettings();
            if (page === 'datasets') loadDatasets();
            if (page === 'models') loadModels();
            if (page === 'projects') loadProjects();
            if (page === 'compare') loadCompare();
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Load Data
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadStats() {
            const stats = await api('/stats');
            document.getElementById('stat-total').textContent = stats.total;
            document.getElementById('stat-completed').textContent = stats.completed;
            document.getElementById('stat-progress').textContent = stats.in_progress;
            document.getElementById('stat-pending').textContent = stats.pending;
            document.getElementById('stat-lines').textContent = stats.total_lines.toLocaleString();
            document.getElementById('stat-completion-pct').textContent = `%${stats.completion_pct} tamamlandÄ±`;
            document.getElementById('stat-modules-info').textContent = `${stats.total_modules} modÃ¼l`;
            document.getElementById('stat-tests-info').textContent = `${stats.total_tests} test geÃ§iyor âœ…`;

            const pct = stats.completion_pct;
            const circle = document.getElementById('progress-circle');
            const circumference = 2 * Math.PI * 42;
            circle.style.strokeDashoffset = circumference * (1 - pct / 100);
            document.getElementById('progress-pct').textContent = `%${pct}`;
        }

        async function loadTasks() {
            const res = await api('/tasks');
            allTasks = res.tasks;
            document.getElementById('task-count-badge').textContent = allTasks.length;
            renderTasks();
            renderPendingPreview();
        }

        function renderTasks() {
            const container = document.getElementById('tasks-container');
            const search = (document.getElementById('search-input')?.value || '').toLowerCase();

            let tasks = allTasks;
            if (currentFilter !== 'all') {
                tasks = tasks.filter(t => t.status === currentFilter);
            }
            if (search) {
                tasks = tasks.filter(t =>
                    t.title.toLowerCase().includes(search) ||
                    (t.description || '').toLowerCase().includes(search)
                );
            }

            if (tasks.length === 0) {
                container.innerHTML = `
                    <div class="empty-state" style="grid-column:1/-1">
                        <div class="empty-state-icon">ğŸ“­</div>
                        <p>Bu filtrede gÃ¶rev bulunamadÄ±.</p>
                    </div>`;
                return;
            }

            container.innerHTML = tasks.map((t, i) => `
                <div class="task-card" style="animation-delay:${i * 0.06}s">
                    <div class="task-card-header">
                        <div class="task-title">${esc(t.title)}</div>
                        <span class="badge badge-${t.status}">
                            ${statusIcon(t.status)} ${statusLabel(t.status)}
                        </span>
                    </div>
                    <div class="task-description">${esc(t.description || 'â€”')}</div>
                    <div class="task-meta">
                        <div class="task-tags">
                            <span class="badge badge-category">${categoryLabel(t.category)}</span>
                            <span class="badge badge-priority-${t.priority}">${priorityLabel(t.priority)}</span>
                        </div>
                    </div>
                    <div class="task-actions">
                        ${t.status !== 'completed' ? `
                            <button class="btn btn-success btn-sm" onclick="approveTask('${t.id}')">âœ… Onayla</button>
                            <button class="btn btn-ghost btn-sm" onclick="setInProgress('${t.id}')">ğŸ”„ BaÅŸlat</button>
                        ` : `
                            <button class="btn btn-danger btn-sm" onclick="rejectTask('${t.id}')">â†©ï¸ Geri Al</button>
                        `}
                        <button class="btn btn-danger btn-sm" onclick="deleteTask('${t.id}')" style="margin-left:auto;">ğŸ—‘ï¸</button>
                    </div>
                </div>
            `).join('');
        }

        function renderPendingPreview() {
            const pending = allTasks.filter(t => t.status !== 'completed').slice(0, 4);
            const container = document.getElementById('pending-tasks-preview');
            if (pending.length === 0) {
                container.innerHTML = '<p style="color:var(--text-muted);font-size:14px;">ğŸ‰ TÃ¼m gÃ¶revler tamamlandÄ±!</p>';
                return;
            }
            container.innerHTML = pending.map(t => `
                <div style="display:flex;align-items:center;gap:12px;padding:10px 14px;background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-sm);margin-bottom:8px;transition:all var(--transition);cursor:pointer;" 
                     onmouseenter="this.style.borderColor='var(--border-hover)'"
                     onmouseleave="this.style.borderColor='var(--border)'"
                     onclick="showPage('tasks')">
                    <span class="badge badge-${t.status}" style="flex-shrink:0;">${statusIcon(t.status)}</span>
                    <span style="font-size:14px;font-weight:500;flex:1;">${esc(t.title)}</span>
                    <span class="badge badge-priority-${t.priority}" style="flex-shrink:0;">${priorityLabel(t.priority)}</span>
                </div>
            `).join('');
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Task Actions
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function approveTask(id) {
            await api(`/tasks/${id}/approve`, { method: 'POST' });
            toast('âœ… GÃ¶rev onaylandÄ±!');
            refresh();
        }
        async function rejectTask(id) {
            await api(`/tasks/${id}/reject`, { method: 'POST' });
            toast('â†©ï¸ GÃ¶rev geri alÄ±ndÄ±.');
            refresh();
        }
        async function setInProgress(id) {
            await api(`/tasks/${id}`, { method: 'PUT', body: JSON.stringify({ status: 'in_progress' }) });
            toast('ğŸ”„ GÃ¶rev baÅŸlatÄ±ldÄ±.');
            refresh();
        }
        async function deleteTask(id) {
            if (!confirm('Bu gÃ¶revi silmek istediÄŸinize emin misiniz?')) return;
            await api(`/tasks/${id}`, { method: 'DELETE' });
            toast('ğŸ—‘ï¸ GÃ¶rev silindi.');
            refresh();
        }
        async function createTask() {
            const title = document.getElementById('modal-title').value.trim();
            if (!title) return alert('LÃ¼tfen baÅŸlÄ±k girin.');
            await api('/tasks', {
                method: 'POST',
                body: JSON.stringify({
                    title,
                    description: document.getElementById('modal-desc').value.trim(),
                    category: document.getElementById('modal-category').value,
                    priority: document.getElementById('modal-priority').value,
                }),
            });
            closeModal();
            toast('â• Yeni gÃ¶rev eklendi!');
            refresh();
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Report & Modules
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadReport() {
            try {
                const res = await api('/report');
                document.getElementById('report-content').innerHTML = markdownToHtml(res.content);
            } catch (e) {
                document.getElementById('report-content').innerHTML = '<p style="color:var(--accent-red)">Rapor yÃ¼klenemedi.</p>';
            }
        }
        async function loadModules() {
            const res = await api('/modules');
            const maxLines = Math.max(...res.modules.map(m => m.lines));
            document.getElementById('modules-container').innerHTML = `
                <table><thead><tr>
                    <th>Dosya</th><th>AÃ§Ä±klama</th><th>Kategori</th><th>SatÄ±r</th><th>Boyut</th><th style="width:150px">Oran</th>
                </tr></thead><tbody>
                    ${res.modules.map(m => `<tr>
                        <td class="file-name">${esc(m.filename)}</td>
                        <td>${esc(m.description)}</td>
                        <td><span class="badge badge-category">${categoryLabel(m.category)}</span></td>
                        <td>${m.lines.toLocaleString()}</td>
                        <td>${m.size_kb} KB</td>
                        <td><span class="line-bar" style="width:${(m.lines / maxLines) * 100}%"></span></td>
                    </tr>`).join('')}
                </tbody></table>
                <div style="padding:14px 20px;font-size:13px;color:var(--text-secondary);border-top:1px solid var(--border);">
                    ğŸ“Š Toplam: <strong>${res.total_lines.toLocaleString()}</strong> satÄ±r (${res.modules.length} modÃ¼l)
                </div>`;
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Settings
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadSettings() {
            // Config
            const cfg = await api('/config');
            const agent = cfg.agent || {};
            document.getElementById('setting-max-steps').value = agent.max_steps || 50;
            document.getElementById('setting-timeout').value = agent.timeout || 180;
            document.getElementById('setting-language').value = agent.language || 'tr';

            // Ollama models
            const sel = document.getElementById('setting-model');
            sel.innerHTML = '<option>YÃ¼kleniyor...</option>';
            try {
                const mr = await api('/ollama/models');
                if (mr.models.length > 0) {
                    sel.innerHTML = mr.models.map(m =>
                        `<option value="${esc(m.name)}" ${m.name === (agent.model || '') ? 'selected' : ''}>${esc(m.name)} (${m.size_gb} GB)</option>`
                    ).join('');
                } else {
                    sel.innerHTML = `<option value="${esc(agent.model || 'qwen2.5:7b-instruct')}">${esc(agent.model || 'qwen2.5:7b-instruct')}</option>`;
                    if (mr.error) console.warn('Ollama:', mr.error);
                }
            } catch (e) {
                sel.innerHTML = `<option value="${esc(agent.model || 'qwen2.5:7b-instruct')}">${esc(agent.model || 'qwen2.5:7b-instruct')}</option>`;
            }

            // API Keys
            const keys = await api('/config/api-keys');
            const keyMap = { OPENAI_API_KEY: 'openai', ANTHROPIC_API_KEY: 'anthropic', GOOGLE_API_KEY: 'google', HF_API_TOKEN: 'hf' };
            for (const [envName, shortName] of Object.entries(keyMap)) {
                const el = document.getElementById(`key-status-${shortName}`);
                if (keys[envName]) {
                    el.className = 'api-key-status set';
                    el.textContent = 'âœ… AyarlandÄ±';
                } else {
                    el.className = 'api-key-status unset';
                    el.textContent = 'âŒ AyarlanmadÄ±';
                }
            }
        }

        async function saveSettings() {
            const cfg = {
                agent: {
                    model: document.getElementById('setting-model').value,
                    max_steps: parseInt(document.getElementById('setting-max-steps').value) || 50,
                    timeout: parseInt(document.getElementById('setting-timeout').value) || 180,
                    language: document.getElementById('setting-language').value,
                }
            };
            await api('/config', { method: 'PUT', body: JSON.stringify(cfg) });
            toast('ğŸ’¾ Ayarlar kaydedildi!');
        }

        async function saveApiKeys() {
            const keys = {};
            const v1 = document.getElementById('key-openai').value.trim();
            const v2 = document.getElementById('key-anthropic').value.trim();
            const v3 = document.getElementById('key-google').value.trim();
            const v4 = document.getElementById('key-hf').value.trim();
            if (v1) keys.OPENAI_API_KEY = v1;
            if (v2) keys.ANTHROPIC_API_KEY = v2;
            if (v3) keys.GOOGLE_API_KEY = v3;
            if (v4) keys.HF_API_TOKEN = v4;
            if (Object.keys(keys).length === 0) return toast('âš ï¸ En az bir anahtar girin.');
            await api('/config/api-keys', { method: 'PUT', body: JSON.stringify(keys) });
            // Clear inputs
            document.getElementById('key-openai').value = '';
            document.getElementById('key-anthropic').value = '';
            document.getElementById('key-google').value = '';
            document.getElementById('key-hf').value = '';
            toast('ğŸ”‘ API anahtarlarÄ± kaydedildi!');
            loadSettings(); // Refresh statuses
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Agent Chat
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        let chatBusy = false;

        function addChatMsg(cls, html) {
            const box = document.getElementById('chat-messages');
            const div = document.createElement('div');
            div.className = 'chat-msg ' + cls;
            div.innerHTML = html;
            box.appendChild(div);
            box.scrollTop = box.scrollHeight;
        }

        async function sendChat() {
            if (chatBusy) return;
            const input = document.getElementById('chat-input');
            const msg = input.value.trim();
            if (!msg) return;
            input.value = '';
            addChatMsg('user', esc(msg));

            chatBusy = true;
            const btn = document.getElementById('chat-send-btn');
            btn.disabled = true;
            btn.textContent = 'â³ DÃ¼ÅŸÃ¼nÃ¼yor...';
            addChatMsg('assistant', '<span class="chat-typing"><span class="dots"><span>Â·</span><span>Â·</span><span>Â·</span></span> Agent Ã§alÄ±ÅŸÄ±yor...</span>');

            try {
                const res = await api('/agent/chat', {
                    method: 'POST',
                    body: JSON.stringify({ message: msg }),
                });
                // Remove typing indicator
                const msgs = document.getElementById('chat-messages');
                const last = msgs.lastElementChild;
                if (last && last.querySelector('.chat-typing')) last.remove();

                // Show tool steps
                if (res.steps) {
                    for (const step of res.steps) {
                        if (step.type === 'tool') {
                            addChatMsg('tool-step', `<div class="tool-name">ğŸ”§ ${esc(step.tool)}</div><pre style="white-space:pre-wrap;margin:0;max-height:200px;overflow-y:auto;">${esc(step.output || '')}</pre>`);
                        } else if (step.type === 'error') {
                            addChatMsg('error', 'âŒ ' + esc(step.content));
                        } else if (step.type === 'response') {
                            addChatMsg('assistant', esc(step.content).replace(/\n/g, '<br>'));
                        }
                    }
                }
                if (res.response && !res.steps?.some(s => s.type === 'response')) {
                    addChatMsg('assistant', esc(res.response).replace(/\n/g, '<br>'));
                }
                if (res.error) {
                    addChatMsg('error', 'âŒ ' + esc(res.error));
                }
            } catch (e) {
                const msgs = document.getElementById('chat-messages');
                const last = msgs.lastElementChild;
                if (last && last.querySelector('.chat-typing')) last.remove();
                addChatMsg('error', 'âŒ BaÄŸlantÄ± hatasÄ±: ' + esc(e.message));
            }

            chatBusy = false;
            btn.disabled = false;
            btn.textContent = 'ğŸ“© GÃ¶nder';
        }

        function clearChat() {
            const box = document.getElementById('chat-messages');
            box.innerHTML = `<div class="chat-msg assistant">ğŸ‘‹ Sohbet temizlendi. Yeni bir gÃ¶rev verin!</div>`;
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Utils
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function esc(s) { const d = document.createElement('div'); d.textContent = s; return d.innerHTML; }
        function statusIcon(s) { return { completed: 'âœ…', in_progress: 'ğŸ”„', pending: 'â³' }[s] || 'â“'; }
        function statusLabel(s) { return { completed: 'TamamlandÄ±', in_progress: 'Devam Ediyor', pending: 'Bekliyor' }[s] || s; }
        function categoryLabel(c) { return { core: 'âš™ï¸ Core', ml: 'ğŸ¤– ML', ui: 'ğŸ¨ UI', testing: 'ğŸ§ª Test', bioeng: 'ğŸ§¬ Bio', devops: 'ğŸš€ DevOps', general: 'ğŸ“¦ Genel' }[c] || c; }
        function priorityLabel(p) { return { high: 'ğŸ”´ YÃ¼ksek', medium: 'ğŸŸ¡ Orta', low: 'ğŸŸ¢ DÃ¼ÅŸÃ¼k' }[p] || p; }

        function markdownToHtml(md) {
            return md.replace(/^### (.+)$/gm, '<h3>$1</h3>').replace(/^## (.+)$/gm, '<h2>$1</h2>').replace(/^# (.+)$/gm, '<h1>$1</h1>')
                .replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>').replace(/\*(.+?)\*/g, '<em>$1</em>')
                .replace(/`([^`]+)`/g, '<code>$1</code>').replace(/^> (.+)$/gm, '<blockquote>$1</blockquote>')
                .replace(/^---$/gm, '<hr>').replace(/\n{2,}/g, '<br><br>').replace(/\n/g, '<br>');
        }

        function toast(msg) {
            const el = document.createElement('div'); el.className = 'toast'; el.innerHTML = msg;
            document.body.appendChild(el); setTimeout(() => el.remove(), 3200);
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Filters & Modal
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function setFilter(filter) {
            currentFilter = filter;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`filter-${filter}`).classList.add('active');
            renderTasks();
        }
        function filterTasks() { renderTasks(); }

        function openModal() {
            document.getElementById('modal-overlay').classList.add('open');
            document.getElementById('modal-title').value = '';
            document.getElementById('modal-desc').value = '';
            setTimeout(() => document.getElementById('modal-title').focus(), 100);
        }
        function closeModal() { document.getElementById('modal-overlay').classList.remove('open'); }
        function closeModalOutside(e) { if (e.target === document.getElementById('modal-overlay')) closeModal(); }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Refresh & Boot
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function refresh() { loadStats(); loadTasks(); }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Datasets
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadDatasets() {
            const cat = document.getElementById('ds-category-filter').value;
            const url = cat ? `/datasets?category=${cat}` : '/datasets';
            const data = await api(url);
            const grid = document.getElementById('datasets-grid');

            // Populate category filter
            if (data.categories) {
                const sel = document.getElementById('ds-category-filter');
                const existing = [...sel.options].map(o => o.value);
                data.categories.forEach(c => {
                    if (!existing.includes(c)) {
                        const opt = document.createElement('option');
                        opt.value = c; opt.textContent = c.charAt(0).toUpperCase() + c.slice(1);
                        sel.appendChild(opt);
                    }
                });
            }

            if (!data.datasets || data.datasets.length === 0) {
                grid.innerHTML = '<p style="color:var(--text-muted);padding:20px">Veri seti bulunamadÄ±.</p>';
                return;
            }

            grid.innerHTML = data.datasets.map((ds, i) => {
                const typeColor = ds.type?.includes('classification') ? 'green' : 'yellow';
                const typeLabel = ds.type === 'binary_classification' ? 'Binary' : ds.type === 'multi_classification' ? 'Multi-Class' : 'Regression';
                return `
                <div class="task-card" style="animation-delay:${i * 0.05}s">
                    <div class="task-card-header">
                        <div class="task-title">${ds.name || ds.id || 'AdsÄ±z'}</div>
                        <span class="badge badge-${ds.type?.includes('classification') ? 'completed' : 'in_progress'}">${typeLabel}</span>
                    </div>
                    <div class="task-description">${ds.task || ''}</div>
                    <div class="task-meta">
                        <div class="task-tags">
                            <span class="badge badge-category">${ds.category || 'general'}</span>
                            <span class="badge" style="background:rgba(155,109,255,.1);color:var(--accent-purple);border:1px solid rgba(155,109,255,.2)">${ds.features || '?'} Ã¶zellik</span>
                            <span class="badge" style="background:rgba(34,211,238,.1);color:var(--accent-cyan);border:1px solid rgba(34,211,238,.2)">${ds.samples || '?'} Ã¶rnek</span>
                        </div>
                        <span style="font-size:11px;color:var(--text-muted)">${ds.source || ''}</span>
                    </div>
                </div>`;
            }).join('');
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Models
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadModels() {
            const data = await api('/models');
            const grid = document.getElementById('models-grid');

            if (!data.models || data.models.length === 0) {
                grid.innerHTML = `
                    <div class="task-card">
                        <div class="task-title">HenÃ¼z kaydedilmiÅŸ model yok</div>
                        <div class="task-description">Agent ile bir ML projesi oluÅŸturduÄŸunuzda modeller otomatik kaydedilecektir.</div>
                    </div>`;
                return;
            }

            grid.innerHTML = data.models.map((m, i) => {
                const metricsHtml = Object.entries(m.metrics || {}).map(([k, v]) =>
                    `<span class="badge" style="background:rgba(52,211,153,.1);color:var(--accent-green);border:1px solid rgba(52,211,153,.2)">${k}: ${typeof v === 'number' ? v.toFixed(4) : v}</span>`
                ).join('');
                return `
                <div class="task-card" style="animation-delay:${i * 0.05}s">
                    <div class="task-card-header">
                        <div class="task-title">ğŸ§  ${m.name}</div>
                        <span class="badge badge-${m.task_type === 'classification' ? 'completed' : 'in_progress'}">${m.task_type}</span>
                    </div>
                    <div class="task-meta" style="margin-bottom:10px">
                        <div class="task-tags">${metricsHtml}</div>
                    </div>
                    <div style="display:flex;justify-content:space-between;align-items:center;font-size:12px;color:var(--text-muted)">
                        <span>ğŸ“ ${m.path}</span>
                        <span>${m.size_kb} KB Â· ${m.created?.split('T')[0] || ''}</span>
                    </div>
                </div>`;
            }).join('');
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Projects
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        async function loadProjects() {
            const data = await api('/projects');
            const grid = document.getElementById('projects-grid');

            if (!data.projects || data.projects.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column:1/-1">
                        <div class="empty-state-icon">ğŸ“</div>
                        <p>HenÃ¼z workspace'te proje yok.</p>
                        <p style="font-size:13px;margin-top:8px;color:var(--text-muted)">Agent'a bir ML gÃ¶revi vererek ilk projenizi oluÅŸturun.</p>
                    </div>`;
                return;
            }

            grid.innerHTML = data.projects.map((p, i) => {
                const badges = [];
                if (p.has_results) badges.push('<span class="badge badge-completed">ğŸ“Š SonuÃ§lar</span>');
                if (p.has_model) badges.push('<span class="badge badge-in_progress">ğŸ§  Model</span>');
                if (p.has_report) badges.push('<span class="badge badge-pending">ğŸ“„ Rapor</span>');
                const bestModel = p.best_model ? `<div style="margin-top:8px;font-size:12px;color:var(--accent-green)">ğŸ† En Ä°yi: ${esc(p.best_model)}</div>` : '';

                return `
                <div class="task-card" style="animation-delay:${i * 0.05}s;cursor:pointer" onclick="viewProject('${p.id}')">
                    <div class="task-card-header">
                        <div class="task-title">ğŸ—‚ï¸ ${esc(p.name)}</div>
                    </div>
                    <div class="task-description">
                        ${p.file_count} dosya Â· ${p.path}
                        ${bestModel}
                    </div>
                    <div class="task-meta">
                        <div class="task-tags">${badges.join('')}</div>
                        <span style="font-size:11px;color:var(--text-muted)">${p.modified?.split('T')[0] || ''}</span>
                    </div>
                </div>`;
            }).join('');
        }

        async function viewProject(id) {
            const data = await api(`/projects/${id}/results`);
            const grid = document.getElementById('projects-grid');

            let html = `<div style="grid-column:1/-1">
                <button class="btn btn-ghost btn-sm" onclick="loadProjects()" style="margin-bottom:16px">â† Geri</button>
                <h3 style="font-size:20px;margin-bottom:20px">ğŸ“‚ ${esc(data.name)}</h3>`;

            // Model bilgileri
            if (data.models && data.models.length > 0) {
                html += `<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;margin-bottom:20px">
                    <h4 style="margin-bottom:14px;font-size:15px">ğŸ§  Modeller</h4>
                    <div class="tasks-grid">${data.models.map(m => {
                    const metricsHtml = Object.entries(m.metrics || {}).map(([k, v]) =>
                        `<span class="badge" style="background:rgba(52,211,153,.1);color:var(--accent-green);border:1px solid rgba(52,211,153,.2)">${k}: ${typeof v === 'number' ? v.toFixed(4) : v}</span>`
                    ).join('');
                    return `<div class="task-card"><div class="task-title">ğŸ§  ${esc(m.name)}</div><div class="task-tags" style="margin-top:8px">${metricsHtml}</div></div>`;
                }).join('')}</div>
                </div>`;
            }

            // KarÅŸÄ±laÅŸtÄ±rma tablosu
            if (data.comparison && data.comparison.results) {
                html += buildComparisonTable(data.name, data.comparison);
            }

            // Grafikler
            if (data.plots && data.plots.length > 0) {
                html += `<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;margin-bottom:20px">
                    <h4 style="margin-bottom:14px;font-size:15px">ğŸ“Š Grafikler</h4>
                    <div class="task-tags">${data.plots.map(p =>
                    `<span class="badge badge-category">ğŸ–¼ï¸ ${esc(p.name)}</span>`
                ).join('')}</div>
                </div>`;
            }

            // Dosya listesi
            if (data.files && data.files.length > 0) {
                html += `<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;margin-bottom:20px">
                    <h4 style="margin-bottom:14px;font-size:15px">ğŸ“ Dosyalar (${data.files.length})</h4>
                    <div style="max-height:300px;overflow-y:auto">${data.files.map(f =>
                    `<div style="display:flex;justify-content:space-between;padding:6px 0;border-bottom:1px solid var(--border);font-size:13px">
                            <span style="color:var(--text-primary)">${esc(f.path)}</span>
                            <span style="color:var(--text-muted)">${f.size_kb} KB</span>
                        </div>`
                ).join('')}</div>
                </div>`;
            }

            html += '</div>';
            grid.innerHTML = html;
        }

        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        //  Compare
        // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        function buildComparisonTable(projectName, comparison) {
            const results = comparison.results || [];
            if (results.length === 0) return '';

            // Extract metric keys (skip non-numeric and 'model_name')
            const metricKeys = [];
            for (const key of Object.keys(results[0])) {
                if (key === 'model_name' || key === 'model' || key === 'Model') continue;
                if (typeof results[0][key] === 'number') metricKeys.push(key);
            }

            let html = `<div style="background:var(--bg-card);border:1px solid var(--border);border-radius:var(--radius-lg);padding:20px;margin-bottom:20px">
                <h4 style="margin-bottom:14px;font-size:15px">âš–ï¸ ${esc(projectName)} â€” Model KarÅŸÄ±laÅŸtÄ±rma</h4>
                <div style="overflow-x:auto">
                <table style="width:100%;border-collapse:collapse;font-size:13px">
                    <thead><tr style="border-bottom:2px solid var(--border)">
                        <th style="text-align:left;padding:10px;color:var(--text-secondary)">Model</th>
                        ${metricKeys.map(k => `<th style="text-align:right;padding:10px;color:var(--text-secondary)">${k}</th>`).join('')}
                    </tr></thead>
                    <tbody>`;

            // Find best values per metric
            const bestVals = {};
            metricKeys.forEach(k => {
                bestVals[k] = Math.max(...results.map(r => r[k] || 0));
            });

            results.forEach(r => {
                const name = r.model_name || r.model || r.Model || 'Unknown';
                html += `<tr style="border-bottom:1px solid var(--border)">
                    <td style="padding:10px;font-weight:600;color:var(--text-primary)">${esc(name)}</td>`;
                metricKeys.forEach(k => {
                    const val = r[k] || 0;
                    const isBest = val === bestVals[k];
                    const barWidth = bestVals[k] > 0 ? Math.round((val / bestVals[k]) * 100) : 0;
                    const color = isBest ? 'var(--accent-green)' : 'var(--accent-blue)';
                    html += `<td style="text-align:right;padding:10px">
                        <div style="display:flex;align-items:center;justify-content:flex-end;gap:8px">
                            <div style="width:60px;height:6px;background:rgba(255,255,255,.06);border-radius:3px;overflow:hidden">
                                <div style="width:${barWidth}%;height:100%;background:${color};border-radius:3px;transition:width .6s ease"></div>
                            </div>
                            <span style="color:${isBest ? 'var(--accent-green)' : 'var(--text-primary)'};font-weight:${isBest ? '700' : '400'}">${val.toFixed(4)}</span>
                            ${isBest ? '<span style="font-size:10px">ğŸ†</span>' : ''}
                        </div>
                    </td>`;
                });
                html += '</tr>';
            });

            html += '</tbody></table></div></div>';
            return html;
        }

        async function loadCompare() {
            const data = await api('/compare');
            const container = document.getElementById('compare-container');

            if (!data.comparisons || data.comparisons.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">âš–ï¸</div>
                        <p>HenÃ¼z karÅŸÄ±laÅŸtÄ±rma verisi yok.</p>
                        <p style="font-size:13px;margin-top:8px;color:var(--text-muted)">Agent ile bir ML projesi Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda model karÅŸÄ±laÅŸtÄ±rmalarÄ± burada gÃ¶rÃ¼necektir.</p>
                    </div>`;
                return;
            }

            container.innerHTML = data.comparisons.map(c =>
                buildComparisonTable(c.project, c)
            ).join('');
        }

        refresh();
    </script>
</body>

</html>